<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>digitalcity</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
  <link rel="stylesheet" href="css/swiper.min.css">
  <link rel="stylesheet" href="css/animate.css">
  <style>
  	*{
  		margin: 0;
  		padding: 0;
  	}
  	@keyframes start {
      0%{
        opacity: 0;
      }
      1% {
        opacity: 1;
        transform: translate(0, 0);
      }
      60% {
        opacity: 0;
        transform: translate(0, -20px);
      }
      100% {
        opacity: 0;
        transform: translate(0, 0px);
      }
    }
    /*全屏设置*/
  	.swiper-container {
	    width: 100vw;
	    height: 100vh;
	    position: relative;
		}
    img{
      width: 100%;
    }
    /*向上箭头*/
    .swiper-container .arrow{
      position: absolute;
      bottom: 2vh;
      width: 10vw;
      left: 45vw;
    }
    /*箭头执行的动画*/
		.start{
      animation-name: start;
      animation-iteration-count: infinite;
		}
    /*每屏的顶部文字*/
		.swiper-container .title{
			margin-top: 6vh;
		}
    /*第一屏*/
    .page-1{
      background-color: #ed4044;
    }
    .page-1 .logo{
      width: 40vw;
      display: block;
      margin: 0 auto;
      margin-top: 5vh;
    }
    .page-1 .animal{
      margin-top: 3vh;
    }
    .page-1 .join{
      top: 62vh;
      left: 0;
      position: absolute;
    }
    /*第二屏*/
		.page-2{
			background-image: url(images/zzz.gif);
			-webkit-background-size: 100% 100%;
			background-size: 100% 100%;
		}
    .page-2 .animal{
      width: 40vw;
      display: block;
      margin: 8vh auto;
    }
    /*第三屏*/
    .page-3{
      background-image: url(images/02.gif);
      -webkit-background-size: 100% 100%;
      background-size: 100% 100%;
    }
    .page-3 .animal{
      width: 50vw;
      display: block;
      margin: 8vh auto;
    }
    /*第四屏*/
    .page-4{
      background-image: url(images/bg.jpg);
      -webkit-background-size: 100% 100%;
      background-size: 100% 100%;
    }
    .page-4 .animal{
			width: 60vw;
			display: block;
			margin: 8vh auto;
		}
    /*第五屏*/
    .page-5{
      background-color:#181818;
    }
    .page-5 .animal{
      width: 45vw;
      display: block;
      margin: 8vh auto;
    }
    /*音乐*/
    .music{
      position: absolute;
      top: 6px;
      right: 8px;
      display: block;
      width: 30px;
      z-index: 999;

    }
    .swiper-pagination-bullet-active{
      background-color: #fff;
    }
    .swiper-pagination-bullet{
      border:1px solid #fff;
    }
    /*loading 样式*/
    .loading{
      width: 100vw;
      height: 100vh;
      background-image: url("images/loading.gif");
      -webkit-background-size: cover;
      background-size: cover;
      background-position: center center;
      background-position: 0 0;
      position: absolute;
      z-index: 9999;
    }
  </style>
</head>

<body>
  <div class="loading"></div>
  <audio src="source/5c89b225eed2d10864.mp3" id="audio"></audio>

  <div class="music">
    <img src="images/music.png" alt="" />
  </div>
  <div class="swiper-container">
    <div class="swiper-wrapper">
      <div class="swiper-slide page-1">
      	<img class="logo ani" swiper-animate-effect="flash" swiper-animate-duration="1s"  src="images/logo_03.png" alt="">
      	<img class="animal ani" swiper-animate-effect="bounceInDown" swiper-animate-duration="0.8s" swiper-animate-delay="1s" src="images/002.png" alt="">
        <img src="images/join.png" alt="" class="join ani" swiper-animate-effect="bounceIn" swiper-animate-duration="1s" swiper-animate-delay="1.8s" />
      	<img class="arrow ani" swiper-animate-effect="start" swiper-animate-duration="1s" swiper-animate-delay="1.5s" src="images/arrow.png" alt="">
      </div>
      <div class="swiper-slide page-2">
      	<img src="images/title_1.png" swiper-animate-effect="tada" swiper-animate-duration="0.5s" class="ani title" alt="">
      	<img class="animal ani" swiper-animate-effect="fadeIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s" src="images/homeAnimal_4.png" alt="">
      	<img src="images/1-0428.png" class="ani" swiper-animate-effect="rotateIn" swiper-animate-duration="0.5s" swiper-animate-delay="1s" alt="">
        <img src="images/1-0428-Z1.png" alt="" class="ani" swiper-animate-effect="jackInTheBox" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s" />
      	<img class="arrow ani" swiper-animate-effect="start" swiper-animate-duration="1s" swiper-animate-delay="1.5s" src="images/arrow.png" alt="">
      </div>
      <div class="swiper-slide page-3">
      	<img src="images/title_1.png" swiper-animate-effect="shake" swiper-animate-duration="0.5s" class="ani title" alt="">
      	<img class="animal ani" swiper-animate-effect="lightSpeedIn" swiper-animate-duration="0.5s" swiper-animate-delay="0.5s" src="images/homeAnimal_3.png" alt="">
      	<img src="images/2-0428.png" class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1s" alt="">
        <img src="images/2-0428-Z1.png" alt="" class="ani" swiper-animate-effect="fadeInUpBig" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s" />
      	<img class="arrow ani" swiper-animate-effect="start" swiper-animate-duration="1s" swiper-animate-delay="1.5s" src="images/arrow.png" alt="">
      </div>
      <div class="swiper-slide page-4">
      	<img src="images/title_2.png" swiper-animate-effect="rubberBand" swiper-animate-duration="0.5s" class="ani title" alt="">
        <img src="images/homeAnimal_6.gif" class="animal ani" alt="" swiper-animate-effect="flipInX" swiper-animate-duration="0.5s"  swiper-animate-delay="0.5s"/>
        <img src="images/03-0428.png" class="ani" swiper-animate-effect="zoomInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1s" alt="">
        <img src="images/03-0428Z1.png" alt="" class="ani" swiper-animate-effect="rotateInUpLeft" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s" />
        <img class="arrow ani" swiper-animate-effect="start" swiper-animate-duration="1s" swiper-animate-delay="1.5s" src="images/arrow.png" alt="">
      </div>
      <div class="swiper-slide page-5">
        <img src="images/title_1.png" swiper-animate-effect="bounce" swiper-animate-duration="0.5s" class="ani title" alt="">
        <img src="images/homeAnimal_7.gif" class="animal ani" alt="" swiper-animate-effect="bounceInUp" swiper-animate-duration="0.5s"  swiper-animate-delay="0.5s"/>
        <img src="images/04-0428.png" class="ani" swiper-animate-effect="fadeInDown" swiper-animate-duration="0.5s" swiper-animate-delay="1s" alt="">
        <img src="images/04-0428-ZI.png" alt="" class="ani" swiper-animate-effect="flipInY" swiper-animate-duration="0.5s" swiper-animate-delay="1.5s" />
      </div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
  <script src="js/swiper.min.js"></script>
  <script src="js/swiper.animate.min.js"></script>
  <script src="js/jquery-3.4.1.min.js"> </script>
  <script>
      // 要做 loading 处理
      // 1.上来将 container 隐藏 将loading图出现
      $('.swiper-container').css('display','none')
      // 2.监听页面的内容是否加载完毕完毕之后隐藏loading图
      document.onreadystatechange = function () {
        if(document.readyState=="complete"){
          // 页面加载完毕 loading 消失 container 出现
          $('.swiper-container').css('display','block')
          $('.loading').css('display','none')


          // 处理 ios 浏览器不能自动播放
          // 用户只要触摸了屏幕一次就开始播放
          $('html').one('touchstart',function(){
            document.querySelector('#audio').play()
          });
          // 处理点击音乐按钮停止或开始播放
          var state = true
          $(".music").click(function(){
            if(state){
              // 停止  可以进行 背景图切换
              document.getElementById('audio').pause()
              state = false
              $(".music img").attr('src',"images/paused.png")
            }else{
              // 开始  可以进行 背景图切换
              document.getElementById('audio').play()
              state = true
              $(".music img").attr('src',"images/music.png")
            }
          })
          var mySwiper = new Swiper('.swiper-container', {
            direction:'vertical',
            loop:true,
            pagination: {
              el: '.swiper-pagination',
            },
            on: {
              init: function() {
                swiperAnimateCache(this); //隐藏动画元素
                swiperAnimate(this); //初始化完成开始动画
              },
              slideChangeTransitionEnd: function() {
                swiperAnimate(this);
                //每个slide切换结束时也运行当前slide动画
                // this.slides.eq(this.activeIndex).find('.ani').removeClass('ani');
                // 动画只展现一次，去除ani类名
              }
            }
          })
        }
      }





  </script>
</body>

</html>